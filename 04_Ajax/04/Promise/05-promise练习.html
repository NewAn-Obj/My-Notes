<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<body>
  <button>挣钱，等我</button>

  <script>
    // =========================== 需求 ===========================
    // 点击按钮，来判断年薪是否超过百万，如果超过，回来娶你，如果没有的话，就让她找个人嫁了吧

    document.querySelector("button").onclick = function () {
      // 点击按钮的时候，许下诺言
      let p = new Promise((resolve, reject) => {
        console.log('我要好好挣钱，回来娶你')

        // 异步代码
        // 时隔n年
        setTimeout(() => {
          // 随机一个数字，表示年薪（单位是万）
          let money = parseInt(Math.random() * 200) // 随机0-200的数字
          console.log(money)

          if (money >= 100) {
            // 许诺成功
            resolve(`媳妇，我现在年薪 ${money} 万，我现在就回来娶你~~~`)
          } else {
            // 失败
            reject(`😢，算了，你还是找个人嫁了吧 😨😭`)
          }
        }, 1000)
      })

      // 获取诺言的结果
      p.then((res) => {
        console.log(res)
      }).catch((err) => {
        console.log(err)
      })
    }
  </script>
</body>

</html>